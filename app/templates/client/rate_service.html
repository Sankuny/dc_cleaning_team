{% extends "base.html" %}
{% block content %}
<div class="max-w-5xl mx-auto mt-12 px-4">
  <h2 class="text-3xl font-bold text-[#003DA5] mb-10 text-center">{{ t["rate_service_title"] }}</h2>

  {% if reservas %}
    <div class="grid grid-cols-1 gap-8">
      {% for r in reservas %}
        <div class="bg-white shadow-lg rounded-xl p-6 border border-blue-100 hover:shadow-xl transition duration-300">
          <p class="text-lg font-semibold text-blue-800 mb-1">
            {{ t["service_type"] }}: <span class="font-normal text-gray-700">{{ r.service_type }}</span>
          </p>
          <p class="text-lg font-semibold text-blue-800 mb-4">
            {{ t["date"] }}: <span class="font-normal text-gray-700">{{ r.date.strftime('%Y-%m-%d') }}</span>
          </p>

          <form method="POST" action="{{ url_for('client.submit_rating', reservation_id=r.id) }}" class="space-y-4">
            <div>
              <label for="rating" class="block font-medium text-gray-700 mb-1">{{ t["rating"] }}</label>
              <select name="rating" class="w-full border border-gray-300 p-2 rounded">
                <option value="5">⭐⭐⭐⭐⭐</option>
                <option value="4">⭐⭐⭐⭐</option>
                <option value="3">⭐⭐⭐</option>
                <option value="2">⭐⭐</option>
                <option value="1">⭐</option>
              </select>
            </div>

            <div>
              <textarea name="comment" rows="3" class="w-full border border-gray-300 p-2 rounded resize-none" placeholder="{{ t['comment_placeholder'] }}"></textarea>
            </div>

            <div class="text-right">
              <button type="submit" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded transition duration-300">
                {{ t["submit_rating"] }}
              </button>
            </div>
          </form>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="text-center text-gray-500 mt-10 text-lg">
      {{ t["no_services_to_rate"] }}
    </div>
  {% endif %}
</div>
{% endblock %}


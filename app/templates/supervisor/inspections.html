{% extends "base.html" %}
{% block content %}
<div class="p-6">
  <h1 class="text-3xl font-bold mb-6 text-blue-800">{{ t["today_services"] }}</h1>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

    <!-- Servicios pendientes -->
    <div>
      <h2 class="text-xl font-semibold text-red-600 mb-2">{{ t["pending_services"] }}</h2>
      {% if pending %}
        {% for r in pending %}
          <div class="p-4 bg-red-100 border-l-4 border-red-500 rounded mb-3 shadow">
            <p><strong>{{ t["client"] }}:</strong> {{ r.user.name }}</p>
            <p><strong>{{ t["address"] }}:</strong> {{ r.address }}</p>
            <p><strong>{{ t["date"] }}:</strong> {{ r.date.strftime('%Y-%m-%d') }}</p>
            <p><strong>{{ t["time"] }}:</strong> {{ r.time }}</p>
            <p class="mt-2 text-sm text-red-700">{{ t["not_marked_completed"] }}</p>
          </div>
        {% endfor %}
      {% else %}
        <p class="text-gray-500">{{ t["no_pending"] }}</p>
      {% endif %}
    </div>

    <!-- Servicios listos para inspecciÃ³n -->
    <div>
      <h2 class="text-xl font-semibold text-green-600 mb-2">{{ t["ready_for_inspection"] }}</h2>
      {% if ready_to_inspect %}
        {% for r in ready_to_inspect %}
          <div class="p-4 bg-green-100 border-l-4 border-green-500 rounded mb-3 shadow">
            <p><strong>{{ t["client"] }}:</strong> {{ r.user.name }}</p>
            <p><strong>{{ t["address"] }}:</strong> {{ r.address }}</p>
            <p><strong>{{ t["date"] }}:</strong> {{ r.date.strftime('%Y-%m-%d') }}</p>
            <p><strong>{{ t["time"] }}:</strong> {{ r.time }}</p>
            <a href="{{ url_for('supervisor.inspect', reservation_id=r.id) }}"
               class="mt-3 inline-block bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">
              {{ t["review_button"] }}
            </a>
          </div>
        {% endfor %}
      {% else %}
        <p class="text-gray-500">{{ t["no_ready"] }}</p>
      {% endif %}
    </div>

  </div>
</div>
{% endblock %}
